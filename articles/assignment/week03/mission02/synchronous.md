# 동기/비동기 핵심 개념 정리

---

## 동기(Synchronous) vs 비동기(Asynchronous)

- 작업의 **순서**를 어떻게 다루느냐의 차이

* **`동기 (Synchronous)`**

  - **직렬적 방식**: 요청을 보낸 후 응답이 와야만 다음 동작을 실행합니다.
  - 순서가 보장되지만, 앞선 작업이 끝날 때까지 뒤의 작업이 대기해야 합니다.
  - `예: 마트 계산할 때 앞 사람 끝날 때까지 대기`

* **`비동기 (Asynchronous)`**
  - **병렬적 방식**: 요청을 보낸 후 응답을 기다리지 않고 즉시 다음 동작을 실행합니다.
  - 특정 코드의 실행 완료를 기다리지 않고 나머지 코드를 먼저 수행합니다. (순서가 바뀔 수 있음)
  - `예: 음식점 진동벨 (주문 후 자리에 앉아 딴짓하다가 벨이 울리면 음식을 받음)`

---

## 블로킹(Blocking) vs 논블로킹(Non-Blocking)

- **제어권**을 누가 가지고 있느냐의 차이

* **`블로킹 (Blocking)`**

  - 호출된 함수에게 제어권을 넘겨줍니다.
  - 호출한 함수(Caller)는 제어권이 없어 대기해야 합니다.
  - 주로 동기 방식과 결합됩니다.

* **`논블로킹 (Non-Blocking)`**
  - 호출한 함수(Caller)가 제어권을 바로 돌려받습니다.
  - 호출한 함수는 다른 작업을 계속 수행할 수 있습니다. (기존 코드가 멈추지 않고 다음 코드를 실행)
  - 주로 비동기 방식과 결합됩니다.

### (비)동기와 (논)블로킹 개념의 조합

- **Sync-Blocking:** 일반적인 함수 호출이고, 결과가 나올 때까지 대기
- **Async-NonBlocking:** 자바스크립트/Node.js의 방식으로 요청 후 바로 다음 코드 실행한 뒤 완료되면 콜백을 실행 (제일 효율적임)
- **Sync-NonBlocking:** 완료되었는지 계속 물어보는 Polling 방식 (제어권을 다시 받았지만 sync라서 하던 일만 계속함)
- **Async-Blocking:** 호출을 해놓고 다른 것을 하려했으나 제어권을 넘겨주어서 발목이 잡힌 상태 (제일 비효율적임)

---

## 자바스크립트의 비동기 제어 방법

- 비동기 처리는 효율적이지만, 순서가 꼬일 수 있습니다. 이를 제어하여 **비동기 작업을 동기적으로(순서대로) 처리하는 것처럼** 만들기 위한 방법

### 콜백 함수 (Callback Function)

- 함수가 다른 함수의 인자로 전달되어서 특정 시점(작업 완료 후)에 실행되는 함수
  - `예: function print(callback){callback();} / function hello(){console.log("안녕")} / print(hello);`
- 비동기 작업의 순서를 제어할 수 있는 가장 기본적인 방법
- **`단점 - 콜백 지옥(Callback Hell)`**: 중첩이 많아지면 가독성이 떨어지고 유지보수가 힘들어짐
  - 프로미스는 후속 처리 메소드인 then이나 catch로 메소드를 체이닝(.then 혹은 .catch)하여 여러 개의 프로미스를 연결하여 이를 해결

### Promise (프로미스)

- 비동기 작업의 최종 성공 또는 실패를 나타내는 객체로 `.then()`으로 성공 시 객체를 사용 가능한 데이터로 정리하고, `.catch()`로 에러 처리 관리

  - `예: const promise = Promise(resolve, reject) => {resolve("성공 데이터") / rejecct("에러 이유")}`

- **`상태(State)`**
  - `Pending(대기)`: 비동기 로직이 아직 완료되지 않은 상태 (처음 상태)
  - `Fulfilled(이행)`: 처리가 성공적으로 완료되어 결과값을 반환한 상태 (resolve 함수 호출 이후)
  - `Rejected(실패)`: 처리가 실패하거나 오류가 발생한 상태 (reject 함수 호출 이후)

### Async / Await

- 기존의 비동기 처리 방식인 콜백 함수와 프로미스의 단점을 보완하고, 문법적으로 더 직관적이고 동기 코드처럼 읽기 편하게 해줌

- **`특징`**
  - `async` 함수 내부에서만 `await` 키워드를 사용할 수 있습니다.
  - `await`는 Promise가 처리될 때까지 기다렸다가 결과를 반환합니다. (데이터가 오기 전까지 다른 함수들을 처리)
  - 예외 처리는 `try...catch` 문을 사용합니다.

---

## 요약 및 결론

- 웹 개발, 특히 프론트엔드에서는 서버와의 통신 등 시간이 걸리는 작업을 위해 **비동기 처리**가 필수적입니다.
- 이를 위해 자바스크립트는 **이벤트 루프**와 **논블로킹 I/O** 모델을 사용합니다.
- 과거의 **콜백 패턴**에서 발전하여 **Promise**, 그리고 현재는 **Async/Await**를 통해 비동기 코드를 더욱 깔끔하고 안전하게 작성합니다.

---

## 참고 문헌

- https://velog.io/@khy226/동기-비동기란-Promise-asyncawait-개념
- https://inpa.tistory.com/entry/👩%E2%80%8D💻-동기비동기-블로킹논블로킹-개념-정리
- https://www.freecodecamp.org/korean/news/https-www-freecodecamp-org-news-javascript-callback-functions-what-are-callbacks-in-js-and-how-to-use-them/
